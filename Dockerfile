# Базовый образ с установленным Go
FROM golang:1.22-alpine

# Рабочая директория внутри контейнера
WORKDIR /app

# Копируем все файлы из текущей папки в контейнер
COPY . .

# Устанавливаем зависимости (если используете go.mod)
#RUN go mod download 2>/dev/null || true

# Собираем Go-приложение
RUN go build -o /editor main.go

# Открываем порт, на котором слушает сервер
EXPOSE 4490

# Команда для запуска приложения
CMD ["/editor"]